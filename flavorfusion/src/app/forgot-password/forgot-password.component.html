<div class="back-button-container">
  <button mat-icon-button class="back-button" (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
</div>
<div class="logo">
  <img src="assets/images/logo.png" alt="Logo">
</div>
<div class="container">
  <h2>Forgot Password</h2>
  <p>Enter the email address associated with your account 
        and we'll send you a link to reset your password</p>
  <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" formControlName="email" 
        class="form-control" 
        placeholder="e.g. hello@reallygreatsite.com" required>

      @if (forgotPasswordForm.get('email').invalid && 
            (forgotPasswordForm.get('email').dirty || 
            forgotPasswordForm.get('email').touched)) { 
        <div class="error-message"> 
          @if (forgotPasswordForm.get('email').errors?.required) {
            <div>Email is required.</div>
          }

          @if (forgotPasswordForm.get('email').errors?.email) {
            <div>Invalid email format.</div>
          }
        </div>
      }
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-primary" [disabled]="isLoading">
        Reset Password
      </button>
    </div>
  </form>
</div>

@if (isLoading) {
  <div class="spinner-container">
    <mat-spinner color="primary"></mat-spinner>
  </div>
}
